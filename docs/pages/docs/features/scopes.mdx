---
title: Scoped tasks
description: Even faster Turborepo builds with scoped tasks.
---

import Callout from "../../../components/callout";
import HeartIcon from "@heroicons/react/solid/HeartIcon";

# Scoped Tasks

Scoping task execution can speed up the process especially if there are distinct clusters of packages
that are not related to each other within your repository. Turborepo has a
[`filter`](/docs/reference/command-line-reference#--filter) option that
offers a flexible mechanism for selecting the packages that will act as "entry points" into your monorepo's
package/task graph. You can match packages by name, directory, include dependents/dependencies, and by changes
in git history.

<Callout type="info">
  It is important to note that dependents and dependencies refer to the
  package and task.
</Callout>

## Scoped tasks with all its dependents

In the case of a change to a shared library, it is helpful to be able to run tasks on all affected packages.
Packages that have changed will affect downstream consumers. In this case, pass along the `filter` to build all the dependencies
as well.

<Callout type="info">
  Prepending a filter with `...` adds dependents of the selected packages as entry points.
</Callout>

```sh
turbo run build --filter=...@shared/my-lib
```

<Callout type="info">
  You can use wildcard character: `*`. This is particularly helpful when
  packages are named by group or by scope.
</Callout>

```sh
turbo run build --filter=...@shared/*
```

## Scoped tasks with dependencies

Sometimes we want to run the tasks needed to satisfy the `build` script of all the packages that has
the `build-tools` string in their names. `turbo` will pick up the dependency build tasks from the pipeline
configuration in `turbo.json`.

```sh
turbo run build --filter=*build-tools*
```

We might also want to include all of the matched packages dependencies as their own entry points, perhaps in the case of running
a full test suite.

<Callout type="info">
  Adding `...` suffix to a filter adds dependencies of the selected packages as entry points.
</Callout>

```sh
turbo run build --filter=*build-tools*...
```

## Packages that have changed

If we want to verify that everything in the most recent commit still builds, we can specify a git reference
to diff against, using that as a basis for selecting packages.

<Callout type="info">
  Enclose commit references in `[]` to match packages that have changed since the referenced commit
</Callout>

```sh
turbo run build --filter=[HEAD^1]
```

## Full Filter Syntax

The full filter syntax can be found in the [CLI Reference Documentation](/docs/reference/command-line-reference#--filter)

<Callout type="idea" icon={<HeartIcon className="h-5 w-5 text-gray-400" aria-hidden="true" />}>
Turborepo's Filter API design and docs were/are inspired by 
[`pnpm`](https://pnpm.io/filtering)
</Callout>
